# quant_project 测试计划书

## 📋 测试目标
确保系统功能稳定可靠后再进行推广

---

## 一、功能测试状态

### 核心功能 ✅ 已验证（2024-02-14）

| 功能 | 状态 | 测试结果 |
|------|------|---------|
| 数据生成 | ✅ 通过 | 200条数据正常生成 |
| 技术指标 | ✅ 通过 | MA/RSI/MACD/BOLL/KDJ 共17个指标 |
| 信号生成 | ✅ 通过 | 买入/卖出/持有信号正常 |
| 行业映射 | ✅ 通过 | 3个行业映射验证 |
| 评分系统 | ✅ 通过 | 评分计算正常 |
| ML预测 | ⚠️ 降级 | scikit-learn不可用时使用简化版 |
| 策略对比 | ✅ 通过 | 4个策略对比正常 |
| K线形态 | ✅ 通过 | 形态识别正常 |
| 参数优化 | ✅ 通过 | 网格搜索正常 |
| 回测逻辑 | ✅ 通过 | 评分制信号更易触发 |
| 行业数据 | ✅ 通过 | 行业查询正常 |
| 财务因子 | ✅ 通过 | PE/ROE等正常 |
| LSTM预测 | ✅ 通过 | 简化版正常 |
| 分钟数据 | ✅ 通过 | 分钟信号正常 |

### 单元测试

运行测试：
```bash
python3 test_units.py
```

结果：
```
✅ 所有测试通过!
```

---

## 二、待解决问题

### P0（影响使用）

- [x] SKLEARN_AVAILABLE NameError ✅ 已修复
- [x] 批量选股只显示3个信号 ✅ 已修复
- [x] 基本面料选股为空 ✅ 已修复
- [x] 快捷链接点击无反应 ✅ 已修复

### P1（建议修复）

- [ ] ML预测需要 scikit-learn 依赖
- [ ] akshare 连接可能较慢

### P2（可选优化）

- [ ] 添加真实数据回测
- [ ] 添加更多行业数据

---

## 三、推广前检查

### 必须满足 ✅

- [x] 所有核心功能测试通过
- [x] 无P0级bug
- [x] 界面文字清晰可读
- [x] 行业筛选正常工作
- [x] 回测显示正确结果
- [x] ML预测无报错

### 推荐满足

- [ ] 安装文档完善
- [ ] 录制演示视频


### 4. 评分系统功能测试 ✅/❌

| 功能 | 测试项 | 预期结果 | 实际结果 | 负责人 |
|------|--------|----------|----------|--------|
| 计算评分 | 点击按钮 | 显示综合评分 | | |
| 评分展示 | 0-100分 | 环形图显示 | | |
| 信号指示 | BUY/SELL/HOLD | 颜色区分 | | |
| 雷达图 | 五维评分 | 展示趋势/动量/RSI等 | | |
| K线图 | 叠加指标 | MA/RSI/MACD线 | | |

### 5. 界面测试 ✅/❌

| 功能 | 测试项 | 预期结果 | 实际结果 | 负责人 |
|------|--------|----------|----------|--------|
| 深色主题 | 所有文字 | 清晰可读 | | |
| 侧边栏 | 导航文字 | 清晰可读 | | |
| 表格 | 股票列表 | 文字清晰 | | |
| 图表 | K线/收益曲线 | 正常显示 | | |
| 响应式 | 窗口缩放 | 布局正常 | | |

---

## 二、数据源测试

### 1. 历史数据获取 ✅/❌

| 数据源 | 测试项 | 预期结果 | 实际结果 |
|--------|--------|----------|----------|
| akshare | 获取600519日线 | 返回365天数据 | |
| akshare | 获取000001日线 | 返回365天数据 | |
| akshare | 断网测试 | 自动重试 | |
| baostock | 备份数据源 | akshare失败时接管 | |
| baostock | 获取数据 | 返回正确格式 | |

### 2. 行业数据测试 ✅/❌

| 测试项 | 预期结果 | 实际结果 |
|----------|----------|----------|
| 选择行业 | 股票池更新 | |
| 云计算 | 显示6只股票 | |
| 科技 | 显示8只股票 | |
| 金融 | 显示6只股票 | |
| 全部 | 显示默认股票池 | |

---

## 三、性能测试

### 1. 响应时间测试

| 操作 | 预期时间 | 实际时间 | 结果 |
|------|----------|----------|------|
| 加载K线图 | < 3秒 | | |
| 运行回测 | < 5秒 | | |
| ML训练 | < 10秒 | | |
| 批量选股(10只) | < 10秒 | | |

### 2. 稳定性测试

| 测试项 | 测试时长 | 预期结果 | 实际结果 |
|--------|----------|----------|----------|
| 连续操作 | 1小时 | 无崩溃 | |
| 页面刷新 | 10次 | 正常显示 | |
| 内存占用 | 长期运行 | < 500MB | |

---

## 四、推广前检查清单

### 必须完成 ✅

- [ ] 所有功能测试通过
- [ ] 深色主题文字清晰可读
- [ ] 行业筛选正常工作
- [ ] 回测显示正确结果
- [ ] ML预测无报错
- [ ] 真实数据获取正常
- [ ] 性能达标
- [ ] 无崩溃/无报错

### 推荐完成

- [ ] 单元测试覆盖率 > 70%
- [ ] 编写使用文档
- [ ] 录制演示视频
- [ ] 准备常见问题Q&A

---

## 五、推广策略

### 推广条件

**必须满足：**
1. 所有核心功能测试通过
2. 无影响使用的bug
3. 界面文字清晰可读

**推荐满足：**
1. 单元测试 > 50%
2. 至少3个用户内测反馈

### 推广渠道

| 渠道 | 优先级 | 备注 |
|------|--------|------|
| GitHub | P0 | 已有459阅读 |
| V2EX | P1 | 技术社区 |
| 掘金 | P1 | 流量大 |
| 知乎 | P2 | 需要好标题 |

---

## 六、测试执行计划

### Day 1: 功能测试
- 上午：选股功能完整测试
- 下午：回测功能测试
- 晚上：ML预测测试

### Day 2: 数据和性能
- 上午：数据源测试
- 下午：性能测试
- 晚上：界面测试

### Day 3: 修复和复测
- 上午：修复问题
- 下午：复测验证
- 晚上：内测用户测试

---

## 七、问题跟踪

| 序号 | 问题描述 | 严重程度 | 状态 | 修复人 |
|------|----------|----------|------|--------|
| 1 | | P0/P1/P2 | TODO | |
| 2 | | P0/P1/P2 | TODO | |
| 3 | | P0/P1/P2 | TODO | |

---

## 八、验收标准

**通过标准：**
- P0问题：0个
- P1问题：< 3个
- P2问题：< 5个
- 核心功能：100%可用

**推广标准：**
- 通过验收
- 至少1人内测通过
- 性能达标

---

*创建时间: 2024-02-14*
*版本: v1.2.0*
